Microsoft (R) Macro Assembler Version 14.28.29333.0	    11/19/20 18:50:28
example.asm						     Page 1 - 1


				; Example assembly language program
				; This program will prmopts for and inputs 
				; a string and a character and it will shortened
				; the string by removing each occurence of the 
				; character.
				; Author:  MingkuanPang
				; Date:    11/19/2020    

				.586
				.MODEL FLAT
				 INCLUDE io.h
			      C ; IO.H -- header file for I/O macros (listing suppressed)
			      C .NOLIST      ; turn off listing
			      C .LIST        ; begin listing
			      C 
				.STACK  4096            ; reserve 4096-byte stack

 00000000			.DATA	; reserve storage for data
 00000000  00000050 [		string	BYTE	80	DUP (?)
	    00
	   ]
 00000050  00000050 [		wrold	BYTE	80	DUP (?)
	    00
	   ]
 000000A0 68 65 6C 6C 6F	test2	BYTE	"hello"
 000000A5 68 6F 6C 6C 6F	test1	BYTE	"hollo"
 000000AA 50 6C 65 61 73	stringPrompt	BYTE	"Please enter a string:",0
	   65 20 65 6E 74
	   65 72 20 61 20
	   73 74 72 69 6E
	   67 3A 00
 000000C1 50 6C 65 61 73	charPrompt		BYTE	"Please enter the character that you want to remove",0
	   65 20 65 6E 74
	   65 72 20 74 68
	   65 20 63 68 61
	   72 61 63 74 65
	   72 20 74 68 61
	   74 20 79 6F 75
	   20 77 61 6E 74
	   20 74 6F 20 72
	   65 6D 6F 76 65
	   00
 000000F4 54 68 65 20 6E	resultLbl		BYTE	"The new string will be: ",0
	   65 77 20 73 74
	   72 69 6E 67 20
	   77 69 6C 6C 20
	   62 65 3A 20 00



				strLen	MACRO	string
					lea		eax,string
					push	eax
					call	strLenProc
					add		esp,4
					ENDM
 00000000			.CODE       
 00000000			_MainProc    PROC
 00000000  8D 35 000000A0 R		lea		esi,test2
 00000006  8D 3D 000000A5 R		lea		edi,test1
 0000000C  B9 00000001			mov		ecx,1
 00000011  FC				cld
 00000012  F2/ A6			repne	cmpsb
 00000014  B8 00000000			mov		eax,0
 00000019  C3				ret
 0000001A			_MainProc    ENDP


 0000001A			strLenProc	PROC
 0000001A  55				push	ebp
 0000001B  8B EC			mov		ebp,esp
 0000001D  53				push	ebx
 0000001E  8B 5D 08			mov		ebx,[ebp+8]
 00000021  B8 00000000			mov		eax,0
 00000026				countbytes:
 00000026  80 3B 00			cmp		BYTE PTR [ebx],0
 00000029  74 04			je		endcount
 0000002B  40				inc		eax
 0000002C  43				inc		ebx
 0000002D  EB F7			jmp		countbytes
 0000002F				endcount:
 0000002F  5B				pop		ebx
 00000030  5D				pop		ebp
 00000031  C3				ret
 00000032			strlenProc	ENDP
				END
Microsoft (R) Macro Assembler Version 14.28.29333.0	    11/19/20 18:50:28
example.asm						     Symbols 2 - 1




Macros:

                N a m e                 Type

atod . . . . . . . . . . . . . .	Proc
atow . . . . . . . . . . . . . .	Proc
dtoa . . . . . . . . . . . . . .	Proc
input  . . . . . . . . . . . . .	Proc
output . . . . . . . . . . . . .	Proc
strLen . . . . . . . . . . . . .	Proc
wtoa . . . . . . . . . . . . . .	Proc


Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 Para	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 0000010D Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00000032 Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

_MainProc  . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 0000001A Public
strLenProc . . . . . . . . . . .	P Near	 0000001A _TEXT	Length= 00000018 Public
  countbytes . . . . . . . . . .	L Near	 00000026 _TEXT	
  endcount . . . . . . . . . . .	L Near	 0000002F _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000000h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
_getInput  . . . . . . . . . . .	L Near	 00000000 FLAT	External
_showOutput  . . . . . . . . . .	L Near	 00000000 FLAT	External
atodproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External
atowproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External
charPrompt . . . . . . . . . . .	Byte	 000000C1 _DATA	
dtoaproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External
resultLbl  . . . . . . . . . . .	Byte	 000000F4 _DATA	
stringPrompt . . . . . . . . . .	Byte	 000000AA _DATA	
string . . . . . . . . . . . . .	Byte	 00000000 _DATA	
test1  . . . . . . . . . . . . .	Byte	 000000A5 _DATA	
test2  . . . . . . . . . . . . .	Byte	 000000A0 _DATA	
wrold  . . . . . . . . . . . . .	Byte	 00000050 _DATA	
wtoaproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External

	   0 Warnings
	   0 Errors
